<script>
  let nome = '';
  let cpf = '';

  function entrar() {
    nome = document.getElementById('nome').value.trim();
    cpf = document.getElementById('cpf').value.trim();

    if (!nome || !cpf) {
      alert('Por favor, preencha todos os campos.');
      return;
    }

    document.getElementById('login').style.display = 'none';
    document.getElementById('painel').style.display = 'block';
    document.getElementById('saudacao').innerText = `Olá, ${nome}`;
    document.getElementById('mensagem').innerText = '';
  }

  function sair() {
    nome = '';
    cpf = '';
    document.getElementById('nome').value = '';
    document.getElementById('cpf').value = '';
    document.getElementById('mensagem').innerText = '';
    document.getElementById('painel').style.display = 'none';
    document.getElementById('login').style.display = 'block';
  }

  function registrar(tipo) {
    const url = 'https://script.google.com/macros/s/AKfycbxMDOZzVlj7XTC2FVnlZL9PlCy1h0S4vHVVIEPB9nZVNnQpH2O2RHoKUc6IoGV5yfgN/exec';

    const formData = new URLSearchParams();
    formData.append('nome', nome);
    formData.append('cpf', cpf);
    formData.append('tipo', tipo.toLowerCase().replace(' ', ''));

    fetch(url, {
      method: 'POST',
      body: formData
    })
    .then(() => {
      const horario = new Date().toLocaleTimeString('pt-BR');
      document.getElementById('mensagem').innerText = `${tipo} registrado às ${horario}`;
    })
    .catch(() => {
      document.getElementById('mensagem').innerText = 'Erro ao registrar. Tente novamente.';
    });
  }
</script>
